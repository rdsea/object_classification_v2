# General settings
pipeline_id: pipeline_1
ensemble: true

# Model Information
model_info:
  input_shape: 32,32,3
  load_model_params:
    architecture_file: model.json
    weights_file: model.h5
    model_directories:
      vgg_0: /model/model0
      vgg_2_7: /model/model2_7
      vgg_2_12: /model/model2_12
      vgg_3_6: /model/model3_6
      vgg_6: /model/model6
      vgg_6_7: /model/model6_7
      vgg_7: /model/model7
      vgg_7_6: /model/model7_6

qoa_config:
  client:
    user_id: aaltosea2
    instance_id: inference_service_01
    stage_id: ML_Inference
    method: REST
    application_name: nii
    role: ml
  connector:
    amqp_connector:
      class: AMQP
      conf:
        end_point: 195.148.22.62
        exchange_name: nii_inference
        exchange_type: topic
        out_routing_key: nii.inference1
  registration_url: http://0.0.0.0:5010/registration

# External service configuration
external_services:
  minio_storage:
    endpoint_url: http://195.148.22.62:9000
    access_key: admin_user
    secret_key: admin_pass
    bucket_name: nii-application-unprocessed-image

  mongodb:
    username: admin_user
    password: admin_pass
    host: localhost
    port: 27017
    database_name: nii_case
    collection_name: raw_prediction

  kafka:
    address: 127.0.0.1:9092
    topic_name: nii_case

  service_registry:
    consul_config:
      url: http://195.148.22.62:8500
